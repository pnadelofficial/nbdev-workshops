[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "nbdev-workshops",
    "section": "",
    "text": "This file will become your README and also the index of your documentation."
  },
  {
    "objectID": "index.html#install",
    "href": "index.html#install",
    "title": "nbdev-workshops",
    "section": "Install",
    "text": "Install\npip install nbdev_workshops"
  },
  {
    "objectID": "index.html#how-to-use",
    "href": "index.html#how-to-use",
    "title": "nbdev-workshops",
    "section": "How to use",
    "text": "How to use\nFill me in please! Don’t forget code examples:\n\n1+1\n\n2"
  },
  {
    "objectID": "advanced_topic_modeling.html",
    "href": "advanced_topic_modeling.html",
    "title": "Advanced Topic Modeling",
    "section": "",
    "text": "source\n\nTopicModel\n\n TopicModel (df, text_col, vectorizer, model, label_number=15)\n\nModels topics in a text given in the form of a list of sentences\n\nsource\n\n\nAdvancedTopicModel\n\n AdvancedTopicModel (sentences, model_name)\n\nModels topics in a text given in the form of a list of sentences\n\nsource\n\n\nTopicModel.model_topics\n\n TopicModel.model_topics ()\n\nRuns all functions in correct sequence, returning modified DataFrame and a dictionary of topics with labels for further investigation\n\nmm = pd.read_csv('../eliot_middlemarch.csv')\n\ntfidf = TfidfVectorizer(max_features=1000, max_df=0.95, min_df=2, stop_words='english')\nnmf = NMF(n_components=12)\n\ntm = TopicModel(mm, 'sents', tfidf, nmf)\n\n\ntopics_dict, modified_df = tm.model_topics()\n\nvectorizing\ngetting topics\n\n\n\nprint('----------------')\nfor topic in topics_dict:\n    print(f'{topic}:')\n    print(topics_dict[topic])\n    print('----------------')\n\n----------------\nTopic 1:\n['don', 'suppose', 'looking', 'head', 'tell', 'celia', 'rosamond', 'caleb', 'shall', 'tone', 'mary', 'oh', 'dear', 'yes', 'said']\n----------------\nTopic 2:\n['wrench', 'raffles', 'garth', 'tyke', 'time', 'trumbull', 'featherstone', 'vincy', 'hawley', 'ladislaw', 'farebrother', 'bulstrode', 'brooke', 'casaubon', 'mr']\n----------------\nTopic 3:\n['felt', 'look', 'things', 'tell', 'time', 'shall', 'make', 'way', 'rosamond', 'thought', 'mary', 'did', 'come', 'fred', 'little']\n----------------\nTopic 4:\n['family', 'dear', 'want', 'mean', 'uncle', 'let', 'shall', 'kind', 'didn', 'people', 'did', 'brooke', 'thing', 'don', 'know']\n----------------\nTopic 5:\n['marriage', 'face', 'looked', 'quite', 'eyes', 'words', 'felt', 'life', 'mind', 'poor', 'feeling', 'celia', 'husband', 'casaubon', 'dorothea']\n----------------\nTopic 6:\n['time', 'case', 'new', 'evening', 'profession', 'medical', 'question', 'farebrother', 'hospital', 'poor', 'middlemarch', 'felt', 'bulstrode', 'rosamond', 'lydgate']\n----------------\nTopic 7:\n['life', 'celia', 'sort', 'really', 'looked', 'set', 'knew', 'dear', 'old', 'did', 'things', 'people', 'better', 'don', 'like']\n----------------\nTopic 8:\n['oh', 'nice', 'going', 'wrong', 'opinion', 'tone', 'people', 'ill', 'world', 'hardly', 'right', 'ought', 'don', 'better', 'think']\n----------------\nTopic 9:\n['hear', 'sister', 'disgust', 'lowick', 'dodo', 'little', 'exactly', 'miss', 'ladislaw', 'cadwallader', 'brooke', 'chettam', 'celia', 'james', 'sir']\n----------------\nTopic 10:\n['use', 'miss', 'poor', 'lady', 'dear', 'hackbutt', 'plymdale', 'husband', 'waule', 'vincy', 'casaubon', 'cadwallader', 'garth', 'bulstrode', 'mrs']\n----------------\nTopic 11:\n['middlemarch', 'better', 'make', 'love', 'men', 'thing', 'medical', 'poor', 'old', 'young', 'woman', 'life', 'bulstrode', 'sort', 'man']\n----------------\nTopic 12:\n['middlemarch', 'money', 'make', 'vincy', 'young', 'thing', 'sure', 'wish', 'dare', 'fellow', 'don', 'people', 'deal', 'say', 'good']\n----------------\n\n\n\nmodified_df\n\n\n\n\n\n  \n    \n      \n      Unnamed: 0\n      org_index\n      chapter\n      sents\n      Topic\n    \n  \n  \n    \n      0\n      0\n      0\n      PRELUDE.\n      Who that cares much to know the history of ma...\n      11\n    \n    \n      1\n      1\n      0\n      PRELUDE.\n      Out they toddled from rugged Avila, wide-eyed ...\n      3\n    \n    \n      2\n      2\n      0\n      PRELUDE.\n      That child-pilgrimage was a fit beginning.\n      3\n    \n    \n      3\n      3\n      0\n      PRELUDE.\n      Theresa’s passionate, ideal nature demanded an...\n      11\n    \n    \n      4\n      4\n      0\n      PRELUDE.\n      Her flame quickly burned up that light fuel; a...\n      3\n    \n    \n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n    \n    \n      11678\n      11678\n      87\n      FINALE.\n      A new Theresa will hardly have the opportunity...\n      3\n    \n    \n      11679\n      11679\n      87\n      FINALE.\n      But we insignificant people with our daily wor...\n      4\n    \n    \n      11680\n      11680\n      87\n      FINALE.\n      Her finely touched spirit had still its fine i...\n      12\n    \n    \n      11681\n      11681\n      87\n      FINALE.\n      Her full nature, like that river of which Cyru...\n      7\n    \n    \n      11682\n      11682\n      87\n      FINALE.\n      But the effect of her being on those around he...\n      12\n    \n  \n\n11683 rows × 5 columns\n\n\n\n\nsource\n\n\nAdvancedTopicModel.model_topics\n\n AdvancedTopicModel.model_topics ()\n\nRuns all functions in correct sequence, plotting the topic model and returning labeled and original DataFrames for further investigation\n\nsentences = mm.sents\n\nmodel_name = 'all-mpnet-base-v2'\natm = AdvancedTopicModel(sentences, model_name)\n\n\nlabel_df, df = atm.model_topics()\n\npredicting embeddings from all-mpnet-base-v2\nreducing embedding dimensions\ncreating topic labels\n\n\n100%|█████████████████████████████████████████| 121/121 [01:30<00:00,  1.34it/s]\n\n\nreducing mean topic embedding\nclustering mean embeddings\n\n\n\n                                                \n\n\n\nlabel_df\n\n\n\n\n\n  \n    \n      \n      label\n      rep_words\n      sents_indices\n      mean_embedding\n      umap_mean_embeddings\n      sent_amount\n      x\n      y\n      kmeans\n    \n  \n  \n    \n      0\n      label: 0\n      caleb; fred; mary; susan; things\n      Int64Index([  409,  1037,  1745,  3196,  3214,...\n      [0.016412508, 0.02865004, -0.010218682, 0.0058...\n      [6.7868686, 8.489919]\n      135\n      6.786869\n      8.489919\n      2\n    \n    \n      1\n      label: 1\n      dodo; celia; james; things\n      Int64Index([  215,   222,   377,   423,   425,...\n      [0.038652774, 0.018728642, -0.020327475, -0.00...\n      [6.6158223, 7.3766127]\n      45\n      6.615822\n      7.376613\n      8\n    \n    \n      2\n      label: 2\n      mr; mrs; schön; lord\n      Int64Index([  213,   517,   747,   754,   761,...\n      [0.029875547, 0.02554671, -0.009077504, 0.0045...\n      [9.245486, 7.6496987]\n      107\n      9.245486\n      7.649699\n      3\n    \n    \n      3\n      label: 3\n      bambridge; middlemarch; billiards; fred; horrock\n      Int64Index([   63,  1496,  1497,  1499,  1598,...\n      [0.015837647, 0.0044394135, -0.0047895005, 0.0...\n      [7.0243683, 10.484429]\n      84\n      7.024368\n      10.484429\n      4\n    \n    \n      4\n      label: 4\n      fred; bambridge; money; mary; ben\n      Int64Index([ 1557,  1922,  1923,  1928,  1944,...\n      [0.015712682, 0.032068662, 0.002772677, 0.0146...\n      [7.0547915, 10.049879]\n      87\n      7.054791\n      10.049879\n      4\n    \n    \n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n    \n    \n      116\n      label: 116\n      men; ne; life; time; heart\n      Int64Index([   25,    36,   305,   306,   407,...\n      [0.006513113, 0.04176658, -0.009629388, 0.0056...\n      [5.0721483, 6.792925]\n      77\n      5.072148\n      6.792925\n      5\n    \n    \n      117\n      label: 117\n      \n      Int64Index([   89,    90,   145,   232,   348,...\n      [0.008788073, 0.07186568, -0.014947688, -0.003...\n      [9.922676, 8.417931]\n      140\n      9.922676\n      8.417931\n      6\n    \n    \n      118\n      label: 118\n      people; day\n      Int64Index([  200,   240,   345,   429,   732,...\n      [0.020320836, 0.053059794, -0.017011154, 0.003...\n      [9.739517, 8.333008]\n      80\n      9.739517\n      8.333008\n      6\n    \n    \n      119\n      label: 119\n      ignorance; knowledge; thoughts; images; motion\n      Int64Index([  170,   287,   615,   691,  1018,...\n      [0.026529621, 0.02535313, -0.012068514, -0.000...\n      [7.7342257, 9.020579]\n      97\n      7.734226\n      9.020579\n      7\n    \n    \n      120\n      label: 120\n      god; death; providence; disgrace; danger\n      Int64Index([   58,   246,   285,   460,   565,...\n      [0.018616254, 0.028039556, -0.008764701, 0.001...\n      [7.7277603, 9.1637745]\n      85\n      7.727760\n      9.163774\n      7\n    \n  \n\n121 rows × 9 columns"
  }
]